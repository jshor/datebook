import c from"./Months.bc08f21e.js";import g from"./Nth.00967a32.js";import A from"./Plural.f8315e75.js";import R from"./Row.2234aab9.js";import W from"./Weekdays.15f54879.js";import{f as $,g as h,h as B,m as I,_ as N,r as f,o as l,c as a,i as d,p as T,b as t,F as M,l as C,v,k,n as U,e as w,d as S,q as L,t as F,j as Y,w as q}from"./app.2e23a6dc.js";const j=$({name:"Recurrence",components:{Months:c,Nth:g,Plural:A,Row:R,Weekdays:W},props:{modelValue:{type:Object,required:!0}},setup(e,{emit:o}){const E=["DAILY","WEEKLY","MONTHLY","YEARLY"],i=h({interval:1,count:1,frequency:"DAILY"}),b=h(1),u=h({hasEndDate:!1,hasCount:!1,byMonth:!1,hasWeekdays:!1,hasMonthdays:!1}),p=h([]),r=h([]),m=h(""),V=[i,b,u,p,r,m],D=B(()=>i.value.frequency.toLowerCase().replace("ly","").replace("dai","day"));function n(){const s={...i.value};return i.value.frequency!=="DAILY"&&r.value.length&&(u.value.hasWeekdays&&r.value.length&&(s.weekdays=r.value),u.value.hasMonthdays&&p.value.length&&(s.monthdays=p.value)),i.value.frequency==="YEARLY"&&u.value.byMonth&&(s.month=b.value),u.value.hasEndDate&&m.value&&(s.end=new Date(m.value)),u.value.hasCount||delete s.count,s}return V.forEach(s=>I(s,()=>{o("update:modelValue",n())},{immediate:!0,deep:!0})),{frequencies:E,model:i,options:u,months:b,monthdays:p,weekdays:r,until:m,intervalType:D}}}),z=t("h3",null,"Frequency",-1),K=t("span",null,"Repeat this event",-1),O=["value"],H={key:0},P=t("label",{for:"byWeekdays"},"By days of the week",-1),G=t("br",null,null,-1),J=t("label",{for:"byMonthdays"},"By days of the month",-1),Q=t("h3",null,"Interval",-1),X=t("span",null,"Repeat every",-1),Z={key:1},_=t("h3",null,"Months of the year",-1),x={for:"byMonth"},ee={key:2},oe={key:0},ne=t("h3",null,"Days of the week",-1),te={key:1},se=t("h3",null,"Days of the month",-1),le=t("h3",null,"Repeats until",-1),ae=t("label",{for:"repeatUntilDate"},"A specific date",-1),de=["disabled"],ue=t("br",null,null,-1),ie=t("label",{for:"repeatUntilcount"},"A number of occurrences",-1);function re(e,o,E,i,b,u){const p=f("plural"),r=f("months"),m=f("weekdays"),V=f("row"),D=f("nth");return l(),a("div",null,[z,K,d(t("select",{"onUpdate:modelValue":o[0]||(o[0]=n=>e.model.frequency=n)},[(l(!0),a(M,null,C(e.frequencies,n=>(l(),a("option",{key:n,value:n},F(n.toLowerCase()),9,O))),128))],512),[[T,e.model.frequency]]),e.model.frequency!=="DAILY"?(l(),a("p",H,[d(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.options.hasWeekdays=n),onChange:o[2]||(o[2]=n=>e.options.hasMonthdays=!1),type:"checkbox",id:"byWeekdays"},null,544),[[v,e.options.hasWeekdays]]),P,G,d(t("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>e.options.hasMonthdays=n),onChange:o[4]||(o[4]=n=>e.options.hasWeekdays=!1),type:"checkbox",id:"byMonthdays"},null,544),[[v,e.options.hasMonthdays]]),J])):k("v-if",!0),t("div",null,[Q,X,d(t("input",{"onUpdate:modelValue":o[5]||(o[5]=n=>e.model.interval=n),type:"number",min:"1",step:"1",size:1,class:"input"},null,512),[[U,e.model.interval,void 0,{number:!0}]]),w(p,{text:e.intervalType,n:e.model.interval},null,8,["text","n"])]),e.model.frequency==="YEARLY"?(l(),a("div",Z,[_,d(t("input",{"onUpdate:modelValue":o[6]||(o[6]=n=>e.options.byMonth=n),type:"checkbox",id:"byWeekdays"},null,512),[[v,e.options.byMonth]]),t("label",x,[S(" Repeat every "),w(r,{modelValue:e.months,"onUpdate:modelValue":o[7]||(o[7]=n=>e.months=n),modelModifiers:{number:!0}},null,8,["modelValue"])])])):k("v-if",!0),e.model.frequency!=="DAILY"?(l(),a("div",ee,[e.options.hasWeekdays?(l(),a("div",oe,[ne,(l(!0),a(M,null,C(e.weekdays,(n,s)=>(l(),Y(V,{key:s,onDelete:y=>e.weekdays.splice(s,1)},{default:q(()=>[w(m,{modelValue:e.weekdays[s],"onUpdate:modelValue":y=>e.weekdays[s]=y,multiple:e.model.frequency!=="WEEKLY"},null,8,["modelValue","onUpdate:modelValue","multiple"])]),_:2},1032,["onDelete"]))),128)),t("a",{onClick:o[8]||(o[8]=n=>e.weekdays.push("SU"))},"+ Add a day of the week")])):k("v-if",!0),e.options.hasMonthdays?(l(),a("div",te,[se,(l(!0),a(M,null,C(e.monthdays,(n,s)=>(l(),Y(V,{key:s,onDelete:y=>e.monthdays.splice(s,1)},{default:q(()=>[w(D,{modelValue:e.monthdays[s],"onUpdate:modelValue":y=>e.monthdays[s]=y,range:31,type:"day of the month"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onDelete"]))),128)),t("a",{onClick:o[9]||(o[9]=n=>e.monthdays.push(1))},"+ Add a day of the month")])):k("v-if",!0)])):k("v-if",!0),le,t("p",null,[d(t("input",{"onUpdate:modelValue":o[10]||(o[10]=n=>e.options.hasEndDate=n),onChange:o[11]||(o[11]=n=>e.options.hasCount=!1),type:"checkbox",id:"repeatUntilDate"},null,544),[[v,e.options.hasEndDate]]),ae,d(t("input",{"onUpdate:modelValue":o[12]||(o[12]=n=>e.until=n),disabled:!e.options.hasEndDate,type:"date",placeholder:"yyyy/mm/dd"},null,8,de),[[L,e.options.hasEndDate],[U,e.until]]),ue,d(t("input",{"onUpdate:modelValue":o[13]||(o[13]=n=>e.options.hasCount=n),onChange:o[14]||(o[14]=n=>e.options.hasEndDate=!1),type:"checkbox",id:"repeatUntilcount"},null,544),[[v,e.options.hasCount]]),ie,d(t("input",{"onUpdate:modelValue":o[15]||(o[15]=n=>e.model.count=n),type:"number",min:"1",step:"1",size:1,class:"input"},null,512),[[L,e.options.hasCount],[U,e.model.count,void 0,{number:!0}]])])])}const ke=N(j,[["render",re],["__file","Recurrence.vue"]]);export{ke as default};
